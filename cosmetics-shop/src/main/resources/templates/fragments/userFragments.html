<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<body>
	<!-- Begin: User header -->
	<header th:fragment="userHeader" class="header-bg-color container-fluid fixed-top"
		id="userHeader">
		<nav class="navbar navbar-expand-lg">
			<div class="container-md">
				<h1 class="h1 me-4">
					<a href="/" class="link-primary text-decoration-none">AW
						Cosmetics</a>
				</h1>

				<button class="navbar-toggler" type="button"
					data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
					aria-controls="navbarNavDropdown" aria-expanded="false"
					aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNavDropdown">
					<form class="d-flex" role="search">
						<input class="form-control me-2 text-primary-color" type="search"
							placeholder="Search" aria-label="Search">
					</form>
					<ul class="navbar-nav">
						<li class="nav-item dropdown"><a
							class="nav-link dropdown-toggle text-primary-color" role="button"
							data-bs-toggle="dropdown" aria-expanded="false"></a>
							<ul class="dropdown-menu">
								<li th:each="category : ${categoryList}">
									<a class="dropdown-item" th:href="@{/products/{categoryName}(categoryName = ${category.categoryName})}">
										<span class="text-primary-color" th:text="${stringUtils.normalizeString(category.categoryName)}"></span>	
									</a>
								</li>
							</ul>	
						</li>
						<li class="nav-item"><a class="nav-link text-primary-color link-primary" href="/category">Category
						</a>
						</li>
					</ul>
					
					<ul class="navbar-nav align-items-center"
						style="margin-left: auto">
						<li class="nav-item dropdown"><a
							class="nav-link dropdown-toggle text-primary-color" href="#" role="button"
							data-bs-toggle="dropdown" aria-expanded="false"></a>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item text-primary-color" href="/profile">Profile</a></li>
								<li><a class="dropdown-item text-primary-color" href="/logout">Logout</a></li>
							</ul></li>
						<li class="nav-item me-2">
							<div class="wrapper">
								<img th:src="${#authentication.principal.avatar}"
									style="object-fit: contain; height: 30px; border-radius: 20px" alt=""> <span
									class="text-primary-color" th:text="${#authentication.principal.firstName} + ' ' + ${#authentication.principal.lastName}"></span>
							</div>
						</li>

						<li class="nav-item">
							<div class="wrapper">
								<i class="bi bi-cart" style="font-size: 1.5rem;"></i> <span
									id="cart-number"> 0 </span>
							</div>
						</li>
					</ul>

				</div>

			</div>
		</nav>
	</header>
	<!-- End: User header -->

</body>
</html>