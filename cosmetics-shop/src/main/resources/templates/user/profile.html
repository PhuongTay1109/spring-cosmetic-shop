<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head th:replace="~{fragments/commonFragments :: commonHead}">
<title>Home page</title>
</head>

<body class=" bg-primary">
	<header th:replace="~{fragments/userFragments :: userHeader}"></header>
	<div class="container bg-primary  rounded bg-white mt-5 mb-5">
		<form id="profile-form" class="row">
			<input
				type="hidden" name="userId" th:value="${user.userId}">
			<div class="col-md-3 border-right">
				<div
					class="d-flex flex-column align-items-center text-center p-3 py-5">
					<img class="rounded-circle mt-5" width="150px"
						th:src="${user.avatar}"><span
						th:text="${user.firstName} + ' ' + ${user.lastName}"
						class="font-weight-bold"></span><span th:text="${user.email}"
						class="text-black-50"></span><span> </span>
				</div>
			</div>
			<div class="col-md-5 border-right">
				<div class="p-3 py-5">
					<div class="d-flex justify-content-between align-items-center mb-3">
						<h4 class="text-right">Profile Settings</h4>
					</div>
					
					<div th:if="${param.update_success}" class="alert alert-info">Profile is updated!</div>
					<div class="row mt-2">
						<div class="col-md-6">
							<label class="labels">Name</label><input type="text"
								class="form-control" name="firstName"
								th:value="${user.firstName}" placeholder="First name">
							<div class="firstName-error text-danger"></div>
						</div>

						<div class="col-md-6">
							<label class="labels">Surname</label><input type="text"
								class="form-control" name="lastName" th:value="${user.lastName}"
								placeholder="Surname">
							<div class="lastName-error text-danger"></div>
						</div>
						
					</div>
					<div class="row mt-3">
						<div class="col-md-12">
							<label class="labels">Phone</label> <input type="text"
								class="form-control" name="phone" th:value="${user.phone}"
								placeholder="Enter phone number" value="">
							<div class="phone-error text-danger"></div>
						</div>
						<div class="col-md-12 mt-3">
							<label class="labels">Address</label> <input type="text"
								th:value="${user.address}" name="address" class="form-control"
								placeholder="Enter address">
						</div>
						<div class="col-md-12 mt-3">
							<label class="labels">Email</label> <input type="text"
								th:value="${user.email}" readonly name="email"
								class="form-control" placeholder="Enter email">
						</div>
						<div class="mt-3">
							<button class="btn btn-primary profile-button" type="submit">Save
								Profile</button>
							<a th:if="${#authentication.principal.provider == 'LOCAL'}" class="btn btn-primary profile-button" href="/profile/password/change" type="submit">Change password</a>
						</div>
					</div>
				</div>
		</form>
	</div>
	<!-- Footer -->
	<footer th:replace="~{fragments/commonFragments :: footer}"></footer>
	<script type="text/javascript" th:src="@{/js/user/profile.js}">
    </script>
</body>

</html>