<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/">
<head th:replace="~{fragments/commonFragments :: commonHead(${stringUtils.normalizeString(categoryName)})}">
<title>Insert title here</title>
</head>
<body>
	<header th:replace="~{fragments/userFragments :: userHeader}"></header>
	<div class="container-fluid px-5 pt-5 py-5 mt-5 bg-primary">
		<div class="row">
			<div class="col-md-8 order-md-2 col-lg-9">
				<div class="container-fluid">
					<div class="row mb-3">
						<div class="row col-12">
							<div class="restroom mb-4">
								<a class="restroom-link" href="/"><i class="fa-solid fa-house"></i></a>
								<i class="fa-solid fa-chevron-right"></i>
								<a class="fw-bold restroom-link text-success"
									th:href="@{/products/{categoryName}(categoryName=${categoryName})}"
									th:text="${stringUtils.normalizeString(categoryName)}"></a>
							</div>
							<h1 id="category-name" class="text-primary-color text-uppercase font-weight-bold mb-3 col-6"
								th:text=${stringUtils.normalizeString(categoryName)} th:data-categoryName="${categoryName}" 
								th:data-totalProductsByCategory=${totalProductsByCategory}></h1>
							<div
								class="dropdown text-md-left float-md-left mb-3 mt-3 mt-md-0 mb-md-0 col-6">
								<label class="mr-2">Sort by:</label>
								<button class="btn btn-lg btn-light dropdown-toggle sort-text" type="button" id="sortButton" data-bs-toggle="dropdown"
								    aria-expanded="false">&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;</button>
								<ul class="dropdown-menu sort-menu" aria-labelledby="sortMenuButton">
								    <li><a class="dropdown-item sort-item" 
								    	data-sort-method="top-rating">Top rating</a></li>
								    <li><a class="dropdown-item sort-item"
								    	data-sort-method="price-descending">Price Descending</a></li>
								    <li><a class="dropdown-item sort-item"
								    	data-sort-method="price-ascending">Price Ascending</a></li>
								    <li><a class="dropdown-item sort-item" 
								    	data-sort-method="name-ascending">Name A-Z</a></li>
   									<li><a class="dropdown-item sort-item" 
   										data-sort-method="name-descending">Name Z-A</a></li>
								</ul>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="row" id="products-container">
						</div>
						<!-- Page number -->
						<nav>
							<ul id="products-by-category-pagination"
								class="pagination flex-wrap d-flex justify-content-center mt-2l">
								<li class="page-item" id="page-previous"><button
										class="page-link" id="page-previous" aria-label="Previous">
										<span aria-hidden="true" class="page-btn-size">&laquo;</span>
										<span class="sr-only" style="font-size: 20px">Previous</span>
									</button></li>

								<li class="page-item"><button class="page-link"
										id="page-next" aria-label="Next">
										<span aria-hidden="true" class="page-btn-size">&raquo;</span>
										<span class="sr-only">Next</span>
									</button></li>
							</ul>
						</nav>
						<!-- End: Page number -->
					</div>
				</div>
			</div>
			<div class="col-md-4 order-md-1 col-lg-3 sidebar-filter">
				<h3 class="text-uppercase mt-2 mb-3 font-weight-bold">Type</h3>
				<div class="mt-2 mb-2 pl-2" th:each="type : ${typeList}">
				    <div class="custom-control custom-checkbox">
				        <input type="checkbox" class="custom-control-input" name="type" th:value="${type}"> 
				        <label class="custom-control-label" th:text=${stringUtils.normalizeString(type)}></label>
				    </div>
				</div>

				<div class="divider mt-icon mb-5 border-bottom border-secondary"></div>
				<h3 class="text-uppercase mt-2 mb-3 font-weight-bold">Brand</h3>
				<div class="mt-2 mb-2 pl-2" th:each="brand : ${brandList}">
				    <div class="custom-control custom-checkbox">
				        <input type="checkbox" class="custom-control-input" name="brand" th:value="${brand}"> 
				        <label class="custom-control-label" th:text=${stringUtils.normalizeString(brand)}></label>
				    </div>
				</div>
				
				<a class="btn btn-primary clear-btn mt-4" th:onclick="clearAllFiltersAndSort()">Clear all</a>

			</div>
		</div>
	</div>

	<!-- Footer -->
	<footer th:replace="~{fragments/commonFragments :: footer}"></footer>
	<script type="text/javascript" th:src="@{/js/user/products.js}"></script>

</body>
</html>