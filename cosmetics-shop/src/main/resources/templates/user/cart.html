<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/">

<head th:replace="~{fragments/commonFragments :: commonHead('Cart')}">
<title>Home page</title>
</head>

<body class="bg-primary">
	<header th:replace="~{fragments/userFragments :: userHeader}"></header>
	
	<div th:if="${message != null and status == 'error' }">
	    <div id="toast">
	        <div class="toast toast--error">
	            <div class="toast__icon">
	                <i class="fas fa-exclamation-circle"></i>
	            </div>
	            <div class="toast__body">
	                <h3 class="toast__title">Error</h3>
	                <p class="toast__msg" th:text="${message}"></p>
	            </div>
	            <div class="toast__close">
	                <i class="fas fa-times"></i>
	            </div>
	        </div>
	    </div>
	</div>
	
	<div class="shopping-cart-card mb-5" style="margin-top: 7rem">
            <div class="row">
                <div class="col-md-9 cart">
                    <div class="cart-title">
                        <div class="row">
                            <div class="col"><h4><b>Shopping Cart</b></h4></div>
                            <div id="total-cart-items" class="text-muted" th:text="${totalCartItems} + ' items'"></div>
                        </div>
                    </div>    
                    <div id="cart-items"></div>
                    <div class="row" style="margin-top: 15px">
                    	<div class="col back-to-shop">
		                    <a href="/" class="text-decoration-none link-primary">
		                    	<i class="bi bi-caret-left-fill"></i>
		                    	<span class="text-muted">Back to shop</span>
		                    </a>
	                    </div>
	                    <div class="col">
	                    	<div class="d-flex justify-content-end">
			                	<div id="total-price">TOTAL PRICE: $ 0</div>
	                    	</div>	                 
		                    <div class="d-flex justify-content-end">
		                    	<a href="/checkout" class="text-decoration-none link-primary">
	                    			<button class="btn btn-primary" style="margin-top:1rem">CHECKOUT</button>
	                    		</a>
	                    	</div>
	                    </div>
                    </div>
                </div>
                <div class="col-md-3 summary">
                	<div class="row">
                		<div style="margin-top:60px"><h5><b>Summary</b></h5></div>
                	</div>                                 
                    <div class="row" style="border-top: 1px solid rgba(0,0,0,.1); padding: 2vh 0;">
                        <div class="col">TOTAL PRICE</div>
                        <div id="total-price-summary" class="col text-end"> $ 0</div>
                    </div>
                     <a href="/checkout" class="text-decoration-none link-primary">
                    	<button class="btn btn-primary" style="margin-top:1rem;width:100%">CHECKOUT</button>
                     </a>
                </div>
            </div>
            
        </div>

	<!-- Footer -->
	<footer th:replace="~{fragments/commonFragments :: footer}"></footer>
	<script type="text/javascript" th:src="@{/js/user/cart.js}"></script>
</body>

</html>